# Model_optimization

There are two versions (PT and TF) of the same CRNN model trained on the exact same dataset

## Results table
Character Error Rate is used as metric (so lower = better)
<pre>
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
|  Optimization type       |   Runtime   |   #Params   | Inference time  | Loss value | Metric value  | Saved model size (KB)   |
|                          |             |             |(ms per batch el)|            |               |                         |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
| Original model           |   TF        |   1.492M    |     26.26       | 0.623181(?)|   0.049073(?) |       17_623 (h5)       |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
| Original model           |   PT        |   1.492M    |     31.21       |  0.623181  |   0.049073    |  5849 (state dict .pt)  |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
| Channels pruning         |   PT        |   1.389M    |     25.78       |  0.904908  |   0.055323    |  5694 (state dict .pt)  |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
| Offline response-based   |   PT        |   0.922M    |     24.54       |  1.161216  |   0.054938    |  3779 (state dict .pt)  |
| distilation              |             |             |                 |            |               |                         |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
| ONNX conversion          | ONNXRuntime |   1.492M    |     12.30       |  0.611737  |   0.047295    |           6021          |
| + ONNXOptimizer          |             |             |                 |            |               |                         |
| + ONNXSimplifier         |             |             |                 |            |               |                         |
+--------------------------+-------------+-------------+-----------------+------------+---------------+-------------------------+
</pre>
